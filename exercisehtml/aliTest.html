<!DOCTYPE html>

<html>

<head>

    <meta charset="UTF-8">

    <title>Document</title>

</head>

<body>

    <div id="page">

        <div class="content main">

            <div class="refer">

                <ul>

                    <li>打的发生</li>

                    <li></li>



                </ul>

             </div>

        </div>

    </div>
    <script>
    var genCssSelector = function(){
      //you code here
      var genCssSelector = function(){
          var ele=arguments[0];
          var parentEle=ele.parentNode;
          var strGenCssSelector=ele.tagName.toLowerCase()
          while(parentEle.nodeName.toLowerCase()!=='#document'){
              if(parentEle.id!==''){
                  strGenCssSelector='#'+parentEle.id+' '+strGenCssSelector;
                  parentEle=parentEle.parentNode;
                  continue;
              }else if(parentEle.className!=''){
                      strGenCssSelector=' '+strGenCssSelector;
                      var classList=parentEle.className.split(' ');
                      for(var i=classList.length-1;i>=0;i--){
                          strGenCssSelector='.'+classList[i]+strGenCssSelector;
                      }
                      parentEle=parentEle.parentNode;
                      continue;
              }else{
                      strGenCssSelector=parentEle.nodeName.toLowerCase()+' '+strGenCssSelector;
                      parentEle=parentEle.parentNode;
                      continue;
              }
          }
          return strGenCssSelector;
      }


document.addEventListener('click', function(e){

    //点击li时，返回：html body #page .content.main .refer ul li

    console.log(genCssSelector(e.target));

})
    </script>

</body>

</html>
